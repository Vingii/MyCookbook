@using MyCookbook.Data
@using Microsoft.Extensions.Localization;
@using MyCookbook.Services;
@inject IStringLocalizer<NavMenu> Localizer
@inject LanguageNotifier LanguageNotifier
@inject AuthenticationStateProvider AuthenticationStateProvider
@inherits OwningComponentBase<CookbookDatabaseService>
@implements IDisposable

<MudNavMenu>
    <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">@Localizer["Dashboard"]</MudNavLink>
    <MudNavLink Href="/Browser" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.List">@Localizer["RecipeBrowser"]</MudNavLink>
    <MudNavLink Href="/Random" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.QuestionMark">@Localizer["RandomRecipe"]</MudNavLink>
    <MudNavLink Href="/Planner" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.CalendarMonth">@Localizer["Planner"]</MudNavLink>
</MudNavMenu>

@code {
    protected override void OnInitialized() => LanguageNotifier.SubscribeLanguageChange(this);
    public void Dispose() => LanguageNotifier.UnsubscribeLanguageChange(this);
}